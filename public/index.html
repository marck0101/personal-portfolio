<!-- index.html (para copiar e colar) -->
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="icon" href="./logo.png" />
    <base href="/" />
    <meta name="description" content="developer portfolio" />
    <meta
      name="keyword"
      content="portfolio, javascript, developer, frontend, react, dev, front-end, tech, programmer"
    />
    <link rel="logo" href="./logo.png" />

    <!-- Font Awesome (não bloqueante). Ideal: trocar por SVGs locais quando possível. -->
    <link
      rel="preload"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      as="style"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      media="print"
      onload="this.media='all'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    /></noscript>

    <!-- PRELOAD do LCP (troque os caminhos abaixo pelos ARQUIVOS REAIS do seu hero em produção) -->
    <!-- EXEMPLO: se sua imagem estiver em /assets/hero.webp, aponte para /assets/hero.webp -->

    <link
      rel="preload"
      as="image"
      href="/static/media/self5A.4735e81e7b134d654327.webp"
      type="image/webp"
    />
    <!-- Consent Mode (v2) + dataLayer stub (sem gtag.js externo) -->
    <script>
      window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }
      // Padrões antes do consentimento
      gtag('consent', 'default', {
        ad_user_data: 'denied',
        ad_personalization: 'denied',
        ad_storage: 'denied',
        analytics_storage: 'denied',
        wait_for_update: 500,
      })
    </script>

    <title>Marck0101 | Developer</title>
  </head>
  <body>
    <noscript>Ative o JavaScript para executar este app.</noscript>
    <div id="root"></div>
    <!-- IMPORTANTE: o <picture> do hero NÃO fica no <head>. Renderize-o no seu componente React acima da dobra. -->
    <picture>
      <source
        srcset="/img/hero@1x.avif 1x, /img/hero@2x.avif 2x"
        type="image/avif"
      />
      <source
        srcset="
          /static/media/self5A.4735e81e7b134d654327.webp 1x,
          /static/media/self5A.4735e81e7b134d654327.webp 2x
        "
        type="image/webp"
      />
      <img
        src="/static/media/self5A.4735e81e7b134d654327.webp"
        alt="Marcos"
        width="300"
        height="300"
        decoding="async"
        fetchPriority="high"
      />
    </picture>
    <!-- Vendors: GTM, FB Pixel, Clarity - carregamento adiado + guarda de produção -->
    <script>
      ;(function () {
        // Liste aqui todos os domínios de produção do seu site
        var PROD_HOSTS = ['marck0101.com.br', 'www.marck0101.com.br']
        var IS_PROD = PROD_HOSTS.indexOf(location.hostname) > -1

        var GTM_ID = 'GTM-KSZJXTHM'
        var FB_ID = '1042435387262327'
        var CLARITY_ID = 'lyju0gbkv7'

        function onIdle(fn) {
          if ('requestIdleCallback' in window) {
            requestIdleCallback(fn, { timeout: 6000 })
          } else setTimeout(fn, 5000)
        }

        // GTM (sem gtag.js externo; GTM centraliza GA e demais tags)
        function loadGTM() {
          if (window._gtmLoaded) return
          window._gtmLoaded = true
          ;(function (w, d, s, l, i) {
            w[l] = w[l] || []
            w[l].push({ 'gtm.start': Date.now(), event: 'gtm.js' })
            var f = d.getElementsByTagName(s)[0],
              j = d.createElement(s),
              dl = l != 'dataLayer' ? '&l=' + l : ''
            j.async = true
            j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl
            f.parentNode.insertBefore(j, f)
          })(window, document, 'script', 'dataLayer', GTM_ID)
        }

        // Facebook Pixel
        ;(function (f) {
          if (f.fbq) return
          var n = (f.fbq = function () {
            n.callMethod
              ? n.callMethod.apply(n, arguments)
              : n.queue.push(arguments)
          })
          if (!f._fbq) f._fbq = n
          n.push = n
          n.loaded = false
          n.version = '2.0'
          n.queue = []
        })(window)
        function loadFB() {
          if (window._fbLoaded) return
          window._fbLoaded = true
          var s = document.createElement('script')
          s.async = true
          s.src = 'https://connect.facebook.net/en_US/fbevents.js'
          document.head.appendChild(s)
          fbq('init', FB_ID)
          fbq('track', 'PageView')
        }

        // Microsoft Clarity
        function loadClarity() {
          if (window._clarityLoaded) return
          window._clarityLoaded = true
          ;(function (c, l, a, r, i, t, y) {
            c[a] =
              c[a] ||
              function () {
                ;(c[a].q = c[a].q || []).push(arguments)
              }
            t = l.createElement(r)
            t.async = 1
            t.src = 'https://www.clarity.ms/tag/' + i
            y = l.getElementsByTagName(r)[0]
            y.parentNode.insertBefore(t, y)
          })(window, document, 'clarity', 'script', CLARITY_ID)
        }

        function enableVendors() {
          if (!IS_PROD) return
          loadGTM()
          loadFB()
          loadClarity()
        }

        var fired = false
        function fire() {
          if (fired) return
          fired = true
          enableVendors()
        }

        if (IS_PROD) {
          window.addEventListener(
            'load',
            function () {
              onIdle(fire)
            },
            { once: true }
          )
          ;['click', 'keydown', 'touchstart', 'scroll'].forEach(function (evt) {
            window.addEventListener(evt, fire, { once: true, passive: true })
          })
        }
      })()
    </script>

    <!-- Noscript do Pixel (opcional) -->
    <!-- <noscript
      ><img
        src="/static/media/self5A.4735e81e7b134d654327.webp"
        alt="Marcos"
        width="300"
        height="300"
        decoding="async"
        fetchpriority="high"
    /></noscript> -->
  </body>
</html>
